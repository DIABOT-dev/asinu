# Daily Report — 17.11.2025

## Scope
- Dọn sạch lỗi lint/parser và xác nhận `lint`, `type-check`, `build` đều xanh để mở khóa rollout tiếp theo.
- Thu thập yêu cầu rollout staging (native auth, rewards/TREE, bridge emitters, smoke harness) và chuẩn hóa checklist.

## Worklog
1. Cập nhật `tsconfig.json` để include toàn bộ `src/**/*` và `pages/**/*`, giúp ESLint/Next nhận đủ file → hết lỗi “TSConfig does not include this file”.
2. Thêm `types/custom/assets.d.ts` (declare `*.svg|png|jpg` + `chart.js/auto`) để các import asset/Chart.js lint/type được.
3. Rerun `npm run lint`, `npm run type-check`, `npm run build` xác nhận xanh trên local (build log chỉ còn cảnh báo DB sandbox, không fail).
4. Tổng hợp roadmap staging (native auth migration/env/cron, rewards migration/flags, bridge emitters, smoke scripts) để triển khai ngay khi có quyền vào VPS.

## Pending / Next
- **Native auth – staging:** cần quyền DB + shell để chạy `118_native_auth.sql`, cập nhật env SESSION/OTP/OAuth, cấu hình cron `otp_cleanup_staging`.
- **Rewards & TREE – staging:** apply `117_reward_wallet.sql`, bật TREE/REWARDS flags, smoke catalog/redeem, ghi log vào `QA_SMOKE.md`.
- **Bridge emitters:** thêm `src/lib/bridge.ts` và emit `mission_completed` + `reward_redeemed` (guard BRIDGE env).
- **Smoke harness:** tạo `scripts/smoke/*` (auth, mission, rewards, donate, bridge, healthz) + `smoke_all.ts`, thêm `npm run smoke`.
- Khi staging smoke pass → lập kế hoạch promote prod (migrations + env + cron).
- **Expo RN template:** set up `create-expo-app` repo, import Asinu theme/navigation, rebuild priority screens (Home, AI, Mood, Sleep, Journal, Stress, Monitoring) from template blueprint, then hook missions/auth/rewards APIs + Dia Brain emitters once backend rollout hoàn tất.
